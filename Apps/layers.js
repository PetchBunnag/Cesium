var bld_dataSource_clone, manhole_clone, water_pipe_clone, gutter_clone, ortho_clone, listWFSLayers = [], listWMSLayers = [], listTileLayers = [], bld = "polygon_bld.geojson", checkbox_1 = document.getElementById("chkbox-1");
checkbox_1.addEventListener("change", function () { if (checkbox_1.checked) for (var a = 0; a < viewer.dataSources._dataSources.length; a++)viewer.dataSources._dataSources[a].name == bld && (viewer.dataSources._dataSources[a].show = !0); else for (a = 0; a < viewer.dataSources._dataSources.length; a++)viewer.dataSources._dataSources[a].name == bld && (viewer.dataSources._dataSources[a].show = !1) }, !1); var checkbox_6 = document.getElementById("chkbox-6");
checkbox_6.addEventListener("change", function () {
    if (checkbox_6.checked) { var a = Cesium.GeoJsonDataSource.load("SampleData/geojson/gutter_line.geojson"); a.then(function (c) { c = c.entities.values; for (var d = 0; d < c.length; d++) { var b = c[d]; b.polyline.material = Cesium.Color.FORESTGREEN; b.polyline.width = 5 } }); a.name = "\u0e23\u0e32\u0e07\u0e23\u0e30\u0e1a\u0e32\u0e22\u0e19\u0e49\u0e4d\u0e32"; viewer.dataSources.add(a) } else for (viewer.dataSources.remove(a), a = 0; a < viewer.dataSources._dataSources.length; a++)"gutter_line.geojson" ==
        viewer.dataSources._dataSources[a].name && (viewer.dataSources._dataSources[a].show = !1)
}, !1); var checkbox_4 = document.getElementById("chkbox-4");
checkbox_4.addEventListener("change", function () {
    if (checkbox_4.checked) { var a = Cesium.GeoJsonDataSource.load("SampleData/geojson/road_line.geojson"); a.then(function (c) { c = c.entities.values; for (var d = 0; d < c.length; d++) { var b = c[d]; b.polyline.material = Cesium.Color.GAINSBORO; b.polyline.width = 5 } }); a.name = "\u0e40\u0e2a\u0e49\u0e19\u0e42\u0e04\u0e23\u0e07\u0e02\u0e48\u0e32\u0e22\u0e16\u0e19\u0e19"; viewer.dataSources.add(a) } else for (viewer.dataSources.remove(a), a = 0; a < viewer.dataSources._dataSources.length; a++)"road_line.geojson" ==
        viewer.dataSources._dataSources[a].name && (viewer.dataSources._dataSources[a].show = !1)
}, !1); var checkbox_5 = document.getElementById("chkbox-5");
checkbox_5.addEventListener("change", function () {
    if (checkbox_5.checked) { var a = Cesium.GeoJsonDataSource.load("SampleData/geojson/drain_pipe_line.geojson"); a.then(function (c) { c = c.entities.values; for (var d = 0; d < c.length; d++) { var b = c[d]; b.polyline.material = Cesium.Color.CRIMSON; b.polyline.width = 5 } }); a.name = "\u0e41\u0e19\u0e27\u0e17\u0e48\u0e2d\u0e23\u0e30\u0e1a\u0e32\u0e22\u0e19\u0e49\u0e33"; viewer.dataSources.add(a) } else for (viewer.dataSources.remove(a), a = 0; a < viewer.dataSources._dataSources.length; a++)"drain_pipe_line.geojson" ==
        viewer.dataSources._dataSources[a].name && (viewer.dataSources._dataSources[a].show = !1)
}, !1); var checkbox_3 = document.getElementById("chkbox-3"); checkbox_3.addEventListener("change", function () { if (this.checked) for (var a = 0; a < listWMSLayers.length; a++)"prmdb_2020:line_manhole_eage" == listWMSLayers[a].layers && imageryLayers.addImageryProvider(manhole_clone, 2); else imageryLayers.removeAll(), imageryLayers.addImageryProvider(new Cesium.IonImageryProvider({ assetId: 4 })) }, !1); var checkbox_2 = document.getElementById("chkbox-2");
checkbox_2.addEventListener("change", function () { if (checkbox_2.checked) for (var a = 0; a < listWMSLayers.length; a++)"cu_uav:cu_uav_ortho" == listWMSLayers[a].layers && imageryLayers.addImageryProvider(ortho_clone, 1); else imageryLayers.removeAll(), imageryLayers.addImageryProvider(new Cesium.IonImageryProvider({ assetId: 4 })) }, !1);
var imageryLayers = viewer.scene.imageryLayers, ortho = new Cesium.WebMapServiceImageryProvider({ url: "http://infraplus-dev.org:8089/geoserver/wms?", layers: "cu_uav:cu_uav_ortho", parameters: { transparent: "true", format: "image/png", crs: "EPSG:4326", layername: "\u0e20\u0e32\u0e1e\u0e42\u0e14\u0e23\u0e19" } }); ortho_clone = ortho; listWMSLayers.push(ortho_clone);
var line_manhole_eage = new Cesium.WebMapServiceImageryProvider({ url: "http://infraplus-dev.org:8089/geoserver/prmdb_2020/wms?", layers: "prmdb_2020:line_manhole_eage", parameters: { transparent: "true", format: "image/png", crs: "EPSG:4326", layername: "\u0e1d\u0e32\u0e17\u0e48\u0e2d\u0e23\u0e30\u0e1a\u0e32\u0e22\u0e19\u0e49\u0e4d\u0e32" } }); manhole_clone = line_manhole_eage; listWMSLayers.push(manhole_clone);
try { var bld_dataSource = Cesium.GeoJsonDataSource.load("SampleData/geojson/" + bld, { stroke: Cesium.Color.DARKGREY, fill: normalColor, strokeWidth: .1 }).then(function (a) { for (var c = a.entities.values, d = 0; d < c.length; d++) { var b = c[d]; 0 == b.properties._3d._value && (b.polygon.extrudedHeight = b.properties.heigth_m._value); b.polygon.material = selectCallback(b) } viewer.dataSources.add(a); bld_dataSource_clone = a }); bld_dataSource.name = "\u0e2d\u0e32\u0e04\u0e32\u0e23/\u0e2a\u0e33\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19"; listWFSLayers.push(bld_dataSource) } catch (a) {
    console.log("add bld failed!\n" +
        a)
} var bl_chamchuri = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e08\u0e32\u0e21\u0e08\u0e38\u0e23\u0e35 \u0e2a\u0e41\u0e04\u0e27\u0e23\u0e4c\u200b", ori_x: 100.53058, ori_y: 13.7329, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_chamchuri/tileset.json", heading: 0 }; add_objtile_model(bl_chamchuri);
var bl_chula_hall = { bld_name: "\u0e2b\u0e2d\u0e1b\u0e23\u0e30\u0e0a\u0e38\u0e21\u0e08\u0e38\u0e2c\u0e32\u0e25\u0e07\u0e01\u0e23\u0e13\u0e4c\u0e21\u0e2b\u0e32\u0e27\u0e34\u0e17\u0e22\u0e32\u0e25\u0e31\u0e22\u200b", ori_x: 100.53272, ori_y: 13.73827, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_chula_hall/tileset.json", heading: 0 }; add_objtile_model(bl_chula_hall);
var bl_cuihouse = { bld_name: "\u0e40\u0e23\u0e37\u0e2d\u0e19\u0e27\u0e34\u0e23\u0e31\u0e0a\u0e21\u0e34\u0e15\u0e23\u200b", ori_x: 100.525286, ori_y: 13.741052, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_cu_i_house/tileset.json", heading: 0 }; add_objtile_model(bl_cuihouse); var bl_cuplus7 = { bld_name: "\u0e15\u0e36\u0e01\u0e08\u0e38\u0e2c\u0e32\u0e1e\u0e31\u0e12\u0e19\u0e4c7", ori_x: 100.52707, ori_y: 13.74352, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_cuplus7/tileset.json", heading: 0 }; add_objtile_model(bl_cuplus7);
var bl_gumare = { bld_name: "\u0e15\u0e36\u0e01\u0e21\u0e2b\u0e32\u0e01\u0e38\u0e21\u0e32\u0e23\u0e35", ori_x: 100.5335, ori_y: 13.73938, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_gumare/tileset.json", heading: 0 }; add_objtile_model(bl_gumare); var bl_jumpee = { bld_name: "\u0e15\u0e36\u0e01\u0e08\u0e33\u0e1b\u0e35", ori_x: 100.52854, ori_y: 13.74147, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_jumpee/tileset.json", heading: 0 }; add_objtile_model(bl_jumpee);
var bl_mahamongkul = { bld_name: "\u0e15\u0e36\u0e01\u0e21\u0e2b\u0e32\u0e21\u0e07\u0e01\u0e38\u0e0e", ori_x: 100.53055, ori_y: 13.736, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_mahamongkul/tileset.json", heading: 0 }; add_objtile_model(bl_mahamongkul); var bl_mbk_center = { bld_name: "\u0e40\u0e2d\u0e47\u0e21\u0e1a\u0e35\u0e40\u0e04\u0e40\u0e0b\u0e47\u0e19\u0e40\u0e15\u0e2d\u0e23\u0e4c", ori_x: 100.5299, ori_y: 13.74456, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_mbk_center/tileset.json", heading: 0 };
add_objtile_model(bl_mbk_center); var bl_novotal = { bld_name: "\u0e42\u0e23\u0e07\u0e41\u0e23\u0e21\u0e42\u0e19\u0e40\u0e27\u0e2d\u0e40\u0e17\u0e25", ori_x: 100.53481, ori_y: 13.74464, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_novotel/tileset.json", heading: 0 }; add_objtile_model(bl_novotal);
var bl_pala = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e01\u0e23\u0e21\u0e1e\u0e25\u0e30\u0e28\u0e36\u0e01\u0e29\u0e32", ori_x: 100.52891, ori_y: 13.74572, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_pala/tileset.json", heading: 0 }; add_objtile_model(bl_pala); var bl_pudsorn = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e1e\u0e38\u0e14\u0e0b\u0e49\u0e2d\u0e19", ori_x: 100.52804, ori_y: 13.7409, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_pudsorn/tileset.json", heading: 0 }; add_objtile_model(bl_pudsorn);
var bl_samyan = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e2a\u0e32\u0e21\u0e22\u0e48\u0e32\u0e19 \u0e21\u0e34\u0e15\u0e23\u0e17\u0e32\u0e27\u0e19\u0e4c", ori_x: 100.52826, ori_y: 13.73422, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_samyan/tileset.json", heading: 0 }; add_objtile_model(bl_samyan);
var bl_siamone = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e2a\u0e22\u0e32\u0e21\u0e27\u0e31\u0e19", ori_x: 100.533732, ori_y: 13.745103, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_siamone/tileset.json", heading: 0 }; add_objtile_model(bl_siamone); var bl_sirintorn = { bld_name: "\u0e15\u0e36\u0e01\u0e2a\u0e34\u0e23\u0e34\u0e19\u0e18\u0e23", ori_x: 100.53423, ori_y: 13.73912, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_sirintorn/tileset.json", heading: 0 }; add_objtile_model(bl_sirintorn);
var bl_supacharasai_sd = { bld_name: "\u0e2a\u0e19\u0e32\u0e21\u0e01\u0e35\u0e2c\u0e32\u0e28\u0e38\u0e20\u0e32\u0e0a\u0e23\u0e32\u0e28\u0e31\u0e22", ori_x: 100.52565, ori_y: 13.7455, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_supacharasai_sd/tileset.json", heading: 0 }; add_objtile_model(bl_supacharasai_sd);
var CEN006 = { bld_name: "\u0e2a\u0e19\u0e32\u0e21\u0e01\u0e35\u0e2c\u0e32\u0e08\u0e38\u0e2c\u0e32\u0e25\u0e07\u0e01\u0e23\u0e13\u0e4c", ori_x: 100.525768, ori_y: 13.737371, ori_z: .5, dir_tilejson: "SampleData/tilesets/Batchedbl_chub_sd/tileset.json", heading: 0 }; add_objtile_model(CEN006); var CEN031 = { name: "\u0e28\u0e32\u0e25\u0e32\u0e1e\u0e23\u0e30\u0e40\u0e01\u0e35\u0e49\u0e22\u0e27", url: "SampleData/glbModel/CEN031.glb", xyz: [100.531925, 13.73515, 0], rotate: [99, 0, 0], scale: 1, description: "<h1>\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14</h1>" };
add_glb_model_2(CEN031); var ARC001 = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e04\u0e13\u0e30\u0e2a\u0e16\u0e32\u0e1b\u0e31\u0e15\u0e22\u0e01\u0e23\u0e23\u0e21\u0e28\u0e32\u0e15\u0e23\u0e4c", ori_x: 100.530832, ori_y: 13.73974, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_ar001/tileset.json", heading: 0 }; add_objtile_model(ARC001);
var FAA001 = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e04\u0e13\u0e30\u0e28\u0e34\u0e25\u0e1b\u0e01\u0e23\u0e23\u0e21\u0e28\u0e32\u0e15\u0e23\u0e4c", ori_x: 100.532905, ori_y: 13.739485, ori_z: 0, dir_tilejson: "SampleData/tilesets/BatchedFAA001/tileset.json", heading: parseFloat(-9) }; add_objtile_model(FAA001);
var CEN080 = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e28\u0e34\u0e25\u0e1b\u0e27\u0e31\u0e12\u0e19\u0e18\u0e23\u0e23\u0e21", ori_x: 100.53169, ori_y: 13.7398, ori_z: 0, dir_tilejson: "SampleData/tilesets/BatchedCEN080/tileset.json", heading: parseFloat(-9) }; add_objtile_model(CEN080);
var ENG03 = { bld_name: "\u0e15\u0e36\u0e01 3 \u0e04\u0e13\u0e30\u0e27\u0e34\u0e28\u0e27\u0e01\u0e23\u0e23\u0e21\u0e28\u0e32\u0e2a\u0e15\u0e23\u0e4c", ori_x: 100.533223, ori_y: 13.7369, ori_z: 0, dir_tilejson: "SampleData/tilesets/BatchedENG03/tileset.json", heading: parseFloat(-10) }; add_objtile_model(ENG03); var CEN062 = { bld_name: "\u0e08\u0e32\u0e21\u0e08\u0e38\u0e23\u0e35 5", ori_x: 100.52893, ori_y: 13.73821, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_cham5/tileset.json", heading: 0 }; add_objtile_model(CEN062);
var subsin = { bld_name: "\u0e2a\u0e33\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e17\u0e23\u0e31\u0e1e\u0e22\u0e4c\u0e2a\u0e34\u0e19 \u0e08\u0e38\u0e2c\u0e32\u0e25\u0e07\u0e01\u0e23\u0e13\u0e4c\u0e21\u0e2b\u0e32\u0e27\u0e34\u0e17\u0e22\u0e32\u0e25\u0e31\u0e22 - PMCU", ori_x: 100.52928, ori_y: 13.739375, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_subsin/tileset.json", heading: 0 }; add_objtile_model(subsin);
var engin_1 = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e27\u0e34\u0e28\u0e27\u0e01\u0e23\u0e23\u0e21\u0e08\u0e38\u0e2c\u0e32 1", ori_x: 100.532597, ori_y: 13.73655, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_engin1/tileset.json", heading: 0 }; add_objtile_model(engin_1); var tree_cone = { bld_name: "\u0e15\u0e49\u0e19\u0e44\u0e21\u0e49", ori_x: 100.531168, ori_y: 13.738468, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedfull_tree3/tileset.json", heading: 0 }; add_objtile_model(tree_cone);
var bl_siamscape = { bld_name: "\u0e2a\u0e22\u0e32\u0e21\u0e41\u0e2a\u0e04\u0e1b", ori_x: 100.530725, ori_y: 13.744415, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_siamscape/tileset.json", heading: 0 }; add_objtile_model(bl_siamscape); var bl_block28 = { bld_name: "block_28", ori_x: 100.530095, ori_y: 13.738745, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedblock_28/tileset.json", heading: 0 }; add_objtile_model(bl_block28);
var bl_cr60 = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e40\u0e09\u0e25\u0e34\u0e21\u0e23\u0e32\u0e0a\u0e01\u0e38\u0e21\u0e32\u0e23\u0e35 60 \u0e1e\u0e23\u0e23\u0e29\u0e32", ori_x: 100.530095, ori_y: 13.738745, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_cr60/tileset.json", heading: 0 }; add_objtile_model(bl_cr60);
var bl_cuP1314 = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e08\u0e38\u0e2c\u0e32\u0e1e\u0e31\u0e12\u0e19\u0e4c 13,14", ori_x: 100.530045, ori_y: 13.738705, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_cuP13-14/tileset.json", heading: 0 }; add_objtile_model(bl_cuP1314); var bl_siamkit = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e2a\u0e22\u0e32\u0e21\u0e01\u0e34\u0e15\u0e15\u0e34\u0e4c", ori_x: 100.531168, ori_y: 13.738468, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_siamkit/tileset.json", heading: 0 };
add_objtile_model(bl_siamkit); var bl_samyanMK = { bld_name: "\u0e15\u0e25\u0e32\u0e14\u0e2a\u0e32\u0e21\u0e22\u0e48\u0e32\u0e19", ori_x: 100.531158, ori_y: 13.738495, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_samyanMK/tileset.json", heading: 0 }; add_objtile_model(bl_samyanMK); var bl_police = { bld_name: "\u0e2a\u0e33\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19\u0e15\u0e33\u0e23\u0e27\u0e08", ori_x: 100.531178, ori_y: 13.738518, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_police/tileset.json", heading: 0 }; add_objtile_model(bl_police);
var bl_mintTW = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23 mint tower", ori_x: 100.53121, ori_y: 13.738515, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_mintTW/tileset.json", heading: 0 }; add_objtile_model(bl_mintTW); var bl_ucenter = { bld_name: "U-center", ori_x: 100.53115, ori_y: 13.738495, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_Ucenter/tileset.json", heading: 0 }; add_objtile_model(bl_ucenter);
var bl_vitkit = { bld_name: "\u0e2d\u0e32\u0e04\u0e32\u0e23\u0e27\u0e34\u0e17\u0e22\u0e4c\u0e01\u0e34\u0e15\u0e15\u0e34\u0e4c", ori_x: 100.53112, ori_y: 13.73845, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_vitkit/tileset.json", heading: 0 }; add_objtile_model(bl_vitkit); var bl_lido = { bld_name: "\u0e25\u0e34\u0e42\u0e14\u0e49", ori_x: 100.53124, ori_y: 13.73847, ori_z: 0, dir_tilejson: "SampleData/tilesets/Batchedbl_lido/tileset.json", heading: 0 }; add_objtile_model(bl_lido);
var fire_hydrant = getMultiOBJ("\u0e2b\u0e31\u0e27\u0e14\u0e31\u0e1a\u0e40\u0e1e\u0e25\u0e34\u0e07", "SampleData/geojson/fire_hydrant.geojson", "SampleData/glbModel/fire_hy.glb"), flag_pole = { name: "\u0e40\u0e2a\u0e32\u0e18\u0e07", url: "SampleData/glbModel/flag_pole/flag_hinged_pole.glb", xyz: [100.532046, 13.738359, 0], rotate: 104, scale: .04, description: "<h1>\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14</h1>" }; add_glb_model(flag_pole);
var electric_pole = Cesium.IonResource.fromAssetId(167335).then(function (a) {
    $.getJSON("SampleData/geojson/electric_pole_point.geojson", function (c) {
        for (var d = 0; d < c.features.length; d++) {
            var b = c.features[d].geometry.coordinates; b = Cesium.Cartesian3.fromDegrees(b[0], b[1], 0); var e = new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(c.features[d].properties.heading + 90), 0, 0); viewer.entities.add({
                position: b, orientation: Cesium.Transforms.headingPitchRollQuaternion(b, e), model: {
                    uri: a, show: "True", shadows: "enabled",
                    scale: 1.5
                }
            })
        }
    })
}), stop_sign = Cesium.IonResource.fromAssetId(164498).then(function (a) {
    $.getJSON("SampleData/geojson/no_parking_sign.geojson", function (c) {
        for (var d = 0; d < c.features.length; d++) {
            var b = c.features[d].geometry.coordinates; b = Cesium.Cartesian3.fromDegrees(b[0], b[1], 0); var e = new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(c.features[d].properties.heading + 90), 0, 0); viewer.entities.add({
                position: b, orientation: Cesium.Transforms.headingPitchRollQuaternion(b, e), model: {
                    uri: a, show: "True", shadows: "enabled",
                    scale: 1
                }
            })
        }
    })
});